<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Busca de M√∫sicas - Repert√≥rio Trimestral</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    input[type="text"] {
      width: 300px;
      padding: 8px;
      font-size: 16px;
    }
    button {
      padding: 8px 12px;
      font-size: 16px;
    }
    table {
      margin-top: 20px;
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
    }
    th {
      background-color: #f4f4f4;
    }
  </style>
</head>
<body>

  <h2>Buscar M√∫sica no Repert√≥rio</h2>
  <input type="text" id="searchInput" placeholder="Digite o nome da m√∫sica...">
  <button onclick="buscarMusica()">Pesquisar</button>

  <table id="resultTable" style="display:none;">
    <thead>
      <tr>
        <th>Classifica√ß√£o</th>
        <th>Ritmo</th>
        <th>M√∫sica</th>
        <th>Cantor/Banda Original</th>
        <th>Vers√£o</th>
        <th>Tom Original</th>
        <th>Tom (Izaack)</th>
        <th>Tom (Victor)</th>
        <th>Tom (Kalebe)</th>
        <th>Tom Feminino</th>
        <th>YouTube</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const input = document.getElementById("searchInput");
    const tabela = document.getElementById("resultTable");
    const corpoTabela = tabela.querySelector("tbody");

    const url = "https://gsx2json.com/api?id=2PACX-1vT3nfCybgcT4p5fAFEV_YRn88r9R-bxatOi96UqXvI6CVb_QRc1hoVFz6YXhlafiX0lfZgTR4suVA93&sheet=P√°gina1";

    function buscarMusica() {
      const termo = input.value.toLowerCase();
      corpoTabela.innerHTML = "";

      fetch(url)
        .then(res => res.json())
        .then(data => {
          const musicas = data.rows;
          const resultado = musicas.filter(item =>
            item.m√∫sica && item.m√∫sica.toLowerCase().includes(termo)
          );

          if (resultado.length > 0) {
            resultado.forEach(item => {
              const row = `
                <tr>
                  <td>${item.classifica√ß√£o || ''}</td>
                  <td>${item.ritmo || ''}</td>
                  <td>${item.m√∫sica || ''}</td>
                  <td>${item.cantorbandaoriginal || ''}</td>
                  <td>${item.vers√£o || ''}</td>
                  <td>${item.tomoriginal || ''}</td>
                  <td>${item.tommasculinoizaack || ''}</td>
                  <td>${item.tommasculinovictor || ''}</td>
                  <td>${item.tommasculinokalebe || ''}</td>
                  <td>${item.tomfeminino || ''}</td>
                  <td><a href="${item.linkdoyoutubevers√£o}" target="_blank">üîó</a></td>
                </tr>
              `;
              corpoTabela.innerHTML += row;
            });
            tabela.style.display = "table";
          } else {
            tabela.style.display = "none";
            alert("Nenhuma m√∫sica encontrada.");
          }
        });
    }

    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") buscarMusica();
    });

    window.addEventListener("load", () => {
      input.value = "";
    });
  </script>

</body>
</html>
